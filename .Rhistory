focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "9em") %>%
column_spec(c(2:6), width = "6em")
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "9em") %>%
column_spec(c(2:6), width = "6em")
sign1 <- label_comma(style_positive = "plus",
style_negative = "minus",
accuracy = 1,
big.mark = "$")
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "9em") %>%
column_spec(c(2:6), width = "6em")
sign1 <- label_comma(style_positive = "plus",
style_negative = "minus",
accuracy = 1,
prefix = "$")
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "9em") %>%
column_spec(c(2:6), width = "6em")
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "9em") %>%
column_spec(c(2:6), width = "6em") %>%
kable_paper("striped", full_width = F)
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "9em") %>%
column_spec(c(2:6), width = "6em") %>%
kable_paper("striped", full_width = F) %>%
transpose()
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
transpose() %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "9em") %>%
column_spec(c(2:6), width = "6em") %>%
kable_paper("striped", full_width = F)
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
transpose() %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "9em") %>%
# column_spec(c(2:6), width = "6em") %>%
kable_paper("striped", full_width = F)
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "9em") %>%
column_spec(c(2:6), width = "6em") %>%
kable_paper("striped", full_width = F)
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "8em") %>%
column_spec(c(2:6), width = "6em") %>%
kable_paper("striped", full_width = F)
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(1, width = "8em") %>%
kable_paper("striped", full_width = F)
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
kable_paper("striped", full_width = F)
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(c(2:6), width = "4em") %>%
kable_paper("striped", full_width = F)
focus %>%
mutate(Assault = sign(Assault),
Income = sign1(Income),
Unemployment = sign(Unemployment),
Poverty = sign(Poverty),
Attendance = sign(Attendance)) %>%
mutate(Assault = cell_spec(Assault,
background = ifelse(str_detect(Assault, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Assault, "−"),
"black", "white")),
Income = cell_spec(Income,
background = ifelse(str_detect(Income, "−"),
"#E60400", "#00E549"),
color = ifelse(str_detect(Income, "−"),
"white", "black")),
Unemployment = cell_spec(Unemployment,
background = ifelse(str_detect(Unemployment, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Unemployment, "−"),
"black", "white")),
Poverty = cell_spec(Poverty,
background = ifelse(str_detect(Poverty, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Poverty, "−"),
"black", "white")),
Attendance = cell_spec(Attendance,
background = ifelse(str_detect(Attendance, "−"),
"#00E549", "#E60400"),
color = ifelse(str_detect(Attendance, "−"),
"black", "white"))) %>%
kable(row.names = FALSE,
format = "html", escape = F,
align = c("l", "c", "c", "c", "c", "c")) %>%
column_spec(c(2:6), width = "4.5em") %>%
kable_paper("striped", full_width = F)
